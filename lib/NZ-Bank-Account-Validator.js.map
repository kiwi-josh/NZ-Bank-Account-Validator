{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8ce090bd9cc4c192d31f","webpack:///./src/index.js","webpack:///./src/constants.js","webpack:///./src/utils.js"],"names":["getId","input","getPartsObject","id","getBranch","branch","getBase","base","getSuffix","suffix","isPartsObject","obj","inputsKeys","Object","keys","requiredKeys","partConstants","filteredKeys","filter","includes","k","length","splitString","str","parts","split","slice","i","partIndexes","partsObjectValid","reduce","isValid","key","value","onlyNumbers","withinMaxLength","partMaxLengths","valueValid","validate","partsObject","bankData","getBankData","algorithm","getChecksum","weighting","modulo","specialCase","earlyExit","result","num","idx","multiplied","summed","summedTwice","final","paddedId","find","ranges","r","branches","parseInt","bankChecksums","A","B","C","D","E","F","G","X","isString","x","isNumbersOnly","test","padLeft","token","Array","String","join","inRange","start","end","inRanges","bool","range","sumChars","int","acc","getPaddedAccountArray","partsObj","a","paddedValue","splitValues","concat"],"mappings":"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","file":"NZ-Bank-Account-Validator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"NZ-Bank-Account-Validator\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NZ-Bank-Account-Validator\"] = factory();\n\telse\n\t\troot[\"NZ-Bank-Account-Validator\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8ce090bd9cc4c192d31f\n **/","import {\n  partConstants,\n  partIndexes,\n  partMaxLengths,\n  bankData,\n  bankChecksums\n} from './constants';\n\nimport {\n  isString,\n  isNumbersOnly,\n  padLeft,\n  inRanges,\n  sumChars,\n  getPaddedAccountArray\n} from './utils';\n\nexport default {\n\n  getId(input) {\n    return this.getPartsObject(input).id;\n  },\n  getBranch(input) {\n    return this.getPartsObject(input).branch;\n  },\n  getBase(input) {\n    return this.getPartsObject(input).base;\n  },\n  getSuffix(input) {\n    return this.getPartsObject(input).suffix;\n  },\n\n  isPartsObject(obj = {}) {\n    if (typeof obj !== 'object') return false;\n    const inputsKeys = Object.keys(obj);\n    const requiredKeys = Object.keys(partConstants);\n    const filteredKeys = requiredKeys.filter(k => inputsKeys.includes(k));\n\n    return requiredKeys.length === filteredKeys.length;\n  },\n\n  splitString(str = '') {\n    const parts = isString(str) ? str.split(/[^0-9]/) : [];\n\n    // If the input string had no delimiters, and its length is\n    // long enough, manually forge an array.\n    if (parts.length === 1) {\n      parts[0] = str.slice(0, 2);\n      parts[1] = str.slice(2, 5);\n      parts[2] = str.slice(5, 12);\n      parts[3] = str.slice(12);\n    }\n\n    return parts.filter(i => i.length);\n  },\n\n  getPartsObject(input) {\n    if (this.isPartsObject(input)) {\n      return input;\n    }\n\n    if (!isString(input)) {\n      return {};\n    }\n\n    const parts = this.splitString(input);\n\n    return {\n      id: parts[partIndexes.id],\n      branch: parts[partIndexes.branch],\n      base: parts[partIndexes.base],\n      suffix: parts[partIndexes.suffix]\n    };\n  },\n\n  partsObjectValid(obj = {}) {\n    const keys = Object.keys(obj);\n\n    if (keys.length !== 4) {\n      return false;\n    }\n\n    return keys.reduce((isValid, key) => {\n      const value = obj[key];\n      const onlyNumbers = isNumbersOnly(value);\n      const withinMaxLength = isString(value) && (value.length <= partMaxLengths[key]);\n      const valueValid = onlyNumbers && withinMaxLength;\n\n      return isValid && valueValid;\n    }, true);\n  },\n\n  validate(input) {\n    const partsObject = this.getPartsObject(input);\n\n    if (!this.partsObjectValid(partsObject)) {\n      return false;\n    }\n\n    const { id, branch, base } = partsObject;\n\n    // VALIDATION - STEP 1\n    /*\n      https://web.archive.org/web/20181009211542/https://www.ird.govt.nz/resources/9/d/9d739cde-ad76-4c49-ae08\n      -522c62d94dd6/rwt-nrwt-spec-2016.pdf (PAGE 10)\n    */\n\n    const bankData = this.getBankData(id, branch);\n\n    if (!bankData) { return false; }\n\n    const algorithm = this.getChecksum(bankData, base);\n\n    if (!algorithm) { return false; }\n\n    // VALIDATION - STEP 2\n    /*\n      https://web.archive.org/web/20181009211542/https://www.ird.govt.nz/resources/9/d/9d739cde-ad76-4c49-ae08\n      -522c62d94dd6/rwt-nrwt-spec-2016.pdf (PAGE 11)\n    */\n\n    const { weighting, modulo, specialCase } = algorithm;\n    const earlyExit = !specialCase;\n\n    const result = getPaddedAccountArray(partsObject).reduce((result, num, idx) => {\n      const multiplied = num * weighting[idx];\n\n      if (earlyExit || multiplied < 10) {\n        return result + multiplied;\n      }\n\n      const summed = sumChars(multiplied);\n      const summedTwice = sumChars(summed);\n      const final = summed < 10 ? summed : summedTwice;\n\n      return result + final;\n    }, 0);\n\n    // Final modulo test\n    return result % modulo === 0;\n  },\n\n  getBankData(id, branch) {\n    const paddedId = padLeft(id, partMaxLengths.id);\n\n    return bankData.find(r => {\n      const ranges = r.branches[paddedId];\n\n      return ranges && inRanges(branch, ranges);\n    });\n  },\n\n  getChecksum(bankData, base) {\n    let { key } = bankData;\n\n    if (key === 'AB') {\n      key = (parseInt(base, 10) < 990000) ? 'A' : 'B';\n    }\n\n    return bankChecksums[key];\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","/*eslint-disable */\n\nconst partConstants = {\n  id: 'id',\n  branch: 'branch',\n  base: 'base',\n  suffix: 'suffix'\n};\n\nconst partIndexes = {\n  [partConstants.id]: 0,\n  [partConstants.branch]: 1,\n  [partConstants.base]: 2,\n  [partConstants.suffix]: 3\n};\n\nconst partMaxLengths = {\n  [partConstants.id]: 2,\n  [partConstants.branch]: 4,\n  [partConstants.base]: 8,\n  [partConstants.suffix]: 4\n};\n\nconst bankData = [\n  {\n    key: 'AB',\n    branches: {\n\n      '01': [\n        [1, 999],\n        [1100, 1199],\n        [1800, 1899]\n      ],\n\n      '02': [\n        [1, 999],\n        [1200, 1299]\n      ],\n\n      '03': [\n        [1, 999],\n        [1300, 1399],\n        [1500, 1599],\n        [1700, 1799],\n        [1900, 1999],\n        [7350,7399]\n      ],\n\n      '04': [\n        [2020,2024]\n      ],\n\n      '06': [\n        [1, 999],\n        [1400, 1499]\n      ],\n\n      '11': [\n        [5000, 6499],\n        [6600, 8999]\n      ],\n\n      '12': [\n        [3000, 3299],\n        [3400, 3499],\n        [3600, 3699]\n      ],\n\n      '13': [\n        [4900, 4999]\n      ],\n\n      '14': [\n        [4700, 4799]\n      ],        \n\n      '15': [\n        [3900, 3999]\n      ],\n\n      '16': [\n        [4400, 4499]\n      ],\n\n      '17': [\n        [3300, 3399]\n      ],\n\n      '18': [\n        [3500, 3599]\n      ],\n\n      '19': [\n        [4600, 4649]\n      ],\n\n      '20': [\n        [4100, 4199]\n      ],\n\n      '21': [\n        [4800, 4899]\n      ],\n\n      '22': [\n        [4000, 4049]\n      ],\n\n      '23': [\n        [3700, 3799]\n      ],\n\n      '24': [\n        [4300, 4349]\n      ],\n\n      '27': [\n        [3800, 3849]\n      ],\n\n      '30': [\n        [2900, 2949]\n      ],\n\n      '35': [\n        [2400, 2499]\n      ],\n\n      '38': [\n        [9000, 9499]\n      ]\n    }\n  },\n\n  {\n    key: 'D',\n    branches: {\n      '08': [\n        [6500, 6599]\n      ]\n    }\n  },\n\n  {\n    key: 'E',\n    branches: {\n      '09': [\n        [0, 0]\n      ]\n    }\n  },\n\n  {\n    key: 'F',\n    branches: {\n      '25': [\n        [2500, 2599]\n      ],\n\n      '33': [\n        [6700, 6799]\n      ]\n    }\n  },\n\n  {\n    key: 'G',\n    branches: {\n      '26': [\n        [2600, 2699]\n      ],\n\n      '28': [\n        [2100, 2149]\n      ],\n\n      '29': [\n        [2150, 2299]\n      ]\n    }\n  },\n\n  {\n    key: 'X',\n    branches: {\n      '31': [\n        [2800, 2849]\n      ]\n    }\n  }\n\n];  \n\nconst bankChecksums = {\n  A: {\n    weighting: [0,0,  6,3,7,9,  0,0,10,5,8,4,2,1,  0,0,0,0],\n    modulo: 11\n  },\n\n  B: {\n    weighting: [0,0,  0,0,0,0,  0,0,10,5,8,4,2,1,  0,0,0,0],\n    modulo: 11\n  },\n\n  C: {\n    weighting: [3, 7,  0,0,0,0,  9,1,10,5,3,4,2,1,  0,0,0,0],\n    modulo: 11\n  },\n\n  D: {\n    weighting: [0, 0,  0,0,0,0,  0,7,6,5,4,3,2,1,  0,0,0,0],\n    modulo: 11\n  },\n\n  E: {\n    weighting: [0, 0,  0,0,0,0,  0,0,0,0,5,4,3,2,  0,0,0,1],\n    modulo: 11,\n    specialCase: true\n  },\n\n  F: {\n    weighting: [0, 0,  0,0,0,0,  0,1,7,3,1,7,3,1,  0,0,0,0],\n    modulo: 10\n  },\n\n  G: {\n    weighting: [0, 0,  0,0,0,0,  0,1,3,7,1,3,7,1,  0,3,7,1],\n    modulo: 10,\n    specialCase: true\n  },\n\n  X: {\n    weighting: [0, 0,  0,0,0,0,  0,0,0,0,0,0,0,0,  0,0,0,0],\n    modulo: 1\n  },\n};\n\n/*eslint-enable */\n\nexport default {\n  partConstants,\n  partIndexes,\n  partMaxLengths,\n  bankData,\n  bankChecksums\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/constants.js\n **/","import {\n  partMaxLengths\n} from './constants';\n\nconst isString = x => x === x + '';\n\nconst isNumbersOnly = x => /^[0-9]+$/.test(x);\n\nconst padLeft = (input, length, token = '0') => Array(length - String(input).length + 1).join(token) + input;\n\nconst inRange = (start, value, end) => value >= start && value <= end;\n\nconst inRanges = (value, ranges = []) => {\n  return ranges.reduce((bool, range) => {\n    const [ start, end ] = range;\n\n    return bool || inRange(start, value, end);\n  }, false);\n};\n\nconst sumChars = int => {\n  return (int + '').split('').reduce((acc, num) => {\n    return acc + (num * 1);\n  }, 0);\n};\n\nconst getPaddedAccountArray = (partsObj) => {\n  return Object.keys(partsObj).reduce((a, k) => {\n    const paddedValue = padLeft(partsObj[k], partMaxLengths[k]);\n    const splitValues = paddedValue.split('');\n\n    return a.concat(splitValues);\n  }, []);\n};\n\nexport default {\n  isString,\n  isNumbersOnly,\n  padLeft,\n  inRange,\n  inRanges,\n  sumChars,\n  getPaddedAccountArray\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/utils.js\n **/"],"sourceRoot":""}